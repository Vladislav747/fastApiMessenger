# Курс "Разработка интернет-приложений"

## 1 задание

1. По аналогии с пользователями, реализовать crud методы для чатов. 
Все входные и выходные данные должны быть явно прописаны через Pydantic-схемы. При этом get запрос должен возвращать не только информацию о чате, но и список участников-пользователей
2. Продумать сущность "Сообщение", реализовать методы:
   - Отправка сообщения в чат - ок
   - Редактирование сообщения - ок
   - Удаление сообщения - ок
   - Список из N последних сообщений в чате - ок
   - Список из N чатов, в которых была последняя активность - ок - сначала список сообщения сортируем по дате а потом joinим их с чатами, last message в чат

## 2 задание

Работу с чатами аналогично перевести на работу с БД - добавить sqlalchemy-модели, миграции, переписать crud-методы

## 3 задание
Добавить аутентификацию и работу с текущим пользователем в методы чатов и сообщений
Реализовать пометку о прочтении сообщения, об изменении сообщения
(*) Реализовать механизм refresh-token'a
 
## 4 задание
Доделать отправку отложенных сообщений (чтобы непосредственно создавались сообщения в БД)
Доделать работу с вебсокетом, чтобы приходили сообщения о новых сообщениях
(*) Реализовать аутентификацию для вебсокета
Добавить обработку хэштегов в сервисе postprocessor


## Дополнительно
По тому, что мы делали совместно - вот такие требования, если хочешь что-то поменять/переделать
- Реализация на питоне
- Основной сервис - rest api на fastapi
- Работа с БД через sqlalchemy, миграции через alembic
- Аутентификация пользователей через JWT token
- Отложенные задачи, реализованные с помощью celery
- Вебсокет и отправка через него обновлений о сообщениях пользователя
- Отдельный rest api сервис, который вызывается в каких-то методах основного апи (как, например, выделение метаданных из текста сообщения)